/* --- The main note container --- */
.note {
  /* This is the most important rule. It allows us to place the note freely
     on its parent container (the corkboard) using top/left/right/bottom. */
  position: absolute;

  width: 250px;
  height: 250px;
  
  /* Give space for the content. Top padding is larger to make room for the pin. */
  padding: 25px;
  padding-top: 45px;

  /* Use the custom handwriting font loaded in layout.tsx.
     Provide fallbacks just in case. */
  font-family: var(--font-indie-flower, 'Comic Sans MS', cursive);
  font-size: 1.2rem;
  line-height: 1.5;
  color: #333; /* Dark gray text is easier to read than pure black */

  /* A soft shadow to make the note "pop" off the board */
  box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.25);
  
  /* Apply the rotation using the CSS variable from the component's style prop */
  transform: rotate(var(--rotation));
  
  /* Smooth transitions for hover effects */
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

/* --- The hover effect --- */
.note:hover {
  /* On hover, we combine the original rotation with a new scale effect.
     This is possible because we're using the CSS variable for rotation. */
  transform: rotate(var(--rotation)) scale(1.1);
  
  /* Make the shadow larger and darker for a more dramatic "lift" effect */
  box-shadow: 10px 10px 25px rgba(0, 0, 0, 0.4);
  
  /* Bring the hovered note to the front so it overlaps others */
  z-index: 10;
}


/* --- Color Variants --- */
/* Simple background color classes that are applied dynamically */
.yellow { background-color: #fefabc; }
.pink   { background-color: #ffc0cb; }
.blue   { background-color: #a7d1e9; }
.green  { background-color: #c5e9a7; }


/* Wrapper for the text content, in case specific styling is needed */
.text {
  width: 100%;
  height: 100%;
  overflow-y: auto; /* Allow scrolling for long content */
}


/*
 * --- The Pin ---
 * This is created entirely with CSS using pseudo-elements for the head and needle.
*/
.pin {
  position: absolute;
  top: 10px;
  left: 50%;
  
  /* This centers the pin horizontally regardless of its own width */
  transform: translateX(-50%);

  /* Define a size for the pin's clickable area and coordinate space */
  width: 30px;
  height: 30px;
}

/* The red pin HEAD */
.pin::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 16px;
  background-color: #e74c3c; /* A nice, bright red */
  border-radius: 50%;
  
  /* A combination of inner and outer shadows to give the pin head a 3D, plastic look */
  box-shadow: 
    inset -2px -2px 5px rgba(0,0,0,0.4),
    2px 2px 3px rgba(0,0,0,0.3);
    
  /* Ensure the pin head is above the needle */
  z-index: 1;
}

/* The metallic pin NEEDLE */
.pin::after {
  content: '';
  position: absolute;
  top: 14px; /* Start it just below the head */
  left: 50%;
  transform: translateX(-50%);
  width: 1.5px;
  height: 12px;
  background-color: #a0a0a0; /* A metallic gray */
  box-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}